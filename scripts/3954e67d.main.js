!function(a,b){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],b):"object"==typeof exports?(require("gsap"),b(require("scrollmagic"),TweenMax,TimelineMax)):b(a.ScrollMagic||a.jQuery&&a.jQuery.ScrollMagic,a.TweenMax||a.TweenLite,a.TimelineMax||a.TimelineLite)}(this,function(a,b,c){"use strict";var d="animation.gsap",e=Function.prototype.bind.call(console&&(console.error||console.log)||function(){},console);a||e("("+d+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),b||e("("+d+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),a.Scene.addOption("tweenChanges",!1,function(a){return!!a}),a.Scene.extend(function(){var a,e=this,f=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+d+")","->"),e._log.apply(this,arguments))};e.on("progress.plugin_gsap",function(){g()}),e.on("destroy.plugin_gsap",function(a){e.removeTween(a.reset)});var g=function(){if(a){var b=e.progress(),c=e.state();a.repeat&&-1===a.repeat()?"DURING"===c&&a.paused()?a.play():"DURING"===c||a.paused()||a.pause():b!=a.progress()&&(0===e.duration()?b>0?a.play():a.reverse():e.tweenChanges()&&a.tweenTo?a.tweenTo(b*a.duration()):a.progress(b).pause())}};e.setTween=function(d,h,i){var j;arguments.length>1&&(arguments.length<3&&(i=h,h=1),d=b.to(d,h,i));try{j=c?new c({smoothChildTiming:!0}).add(d):d,j.pause()}catch(k){return f(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),e}if(a&&e.removeTween(),a=j,d.repeat&&-1===d.repeat()&&(a.repeat(-1),a.yoyo(d.yoyo())),e.tweenChanges()&&!a.tweenTo&&f(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),a&&e.controller()&&e.triggerElement()&&e.loglevel()>=2){var l=b.getTweensOf(e.triggerElement()),m=e.controller().info("vertical");l.forEach(function(a,b){var c=a.vars.css||a.vars,d=m?void 0!==c.top||void 0!==c.bottom:void 0!==c.left||void 0!==c.right;return d?(f(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var n,o,p=a.getChildren?a.getChildren(!0,!0,!1):[a],q=function(){f(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},r=0;r<p.length;r++)n=p[r],o!==q&&(o=n.vars.onOverwrite,n.vars.onOverwrite=function(){o&&o.apply(this,arguments),q.apply(this,arguments)});return f(3,"added tween"),g(),e},e.removeTween=function(b){return a&&(b&&a.progress(0).pause(),a.kill(),a=void 0,f(3,"removed tween (reset: "+(b?"true":"false")+")")),e}})}),$(document).ready(function(){var a=new Snap(document.getElementById("zig-path")),b=$(window).height(),c=30,d=13,e=d/2+c,f="M-50,-12 L-43.6220448,"+e+" L615.203059,"+e+" L711.086126,"+e+" L921.623803,"+e+" L1052.46475,"+e+" L1355.78161,"+e+" L1491.66123,"+e+" L1500,-12";$(".fill").css("bottom",b-c-d),$(window).resize(function(){b=$(window).height(),console.log("resize"),$(".fill").css("bottom",b-c-d)});var g=a.animate({d:f},200),h=g.anims[Object.keys(g.anims)[0]];h.pause();var i=new ScrollMagic.Controller,j=new TimelineMax,k={progress:0};j.add(TweenMax.to(k,1,{progress:1,onUpdate:function(){h.status(k.progress),h.update()}})),j.add(TweenMax.to(".fill",1,{height:c+d+1})),j.add(TweenMax.from(".nav-name",1,{marginLeft:"-100%",scale:.5,ease:Expo.easeOut},1));var l=b/2;console.log(l);{var m=new ScrollMagic.Scene({triggerElement:"nav",duration:l,triggerHook:0}).setPin("nav").setTween(j).addTo(i);new ScrollMagic.Scene({triggerElement:"nav",duration:l,triggerHook:0}).setPin(".content").addTo(i)}m.on("leave",function(){window.pageYOffset>10&&$("nav").css("zIndex",2)}),m.on("enter",function(){$("nav").css("zIndex",0)});var n=!1;$(".work .grid-cell p, .work .grid-cell img").on("click touchstart",function(){if(!n){n=!0,setTimeout(function(){n=!1},100);var a=$(this).parent();$(".work .grid-cell").not(a).removeClass("enlarge"),a.toggleClass("enlarge")}})});