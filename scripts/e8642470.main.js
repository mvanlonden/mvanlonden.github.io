!function(a,b){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],b):"object"==typeof exports?(require("gsap"),b(require("scrollmagic"),TweenMax,TimelineMax)):b(a.ScrollMagic||a.jQuery&&a.jQuery.ScrollMagic,a.TweenMax||a.TweenLite,a.TimelineMax||a.TimelineLite)}(this,function(a,b,c){"use strict";var d="animation.gsap",e=Function.prototype.bind.call(console&&(console.error||console.log)||function(){},console);a||e("("+d+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),b||e("("+d+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),a.Scene.addOption("tweenChanges",!1,function(a){return!!a}),a.Scene.extend(function(){var a,e=this,f=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+d+")","->"),e._log.apply(this,arguments))};e.on("progress.plugin_gsap",function(){g()}),e.on("destroy.plugin_gsap",function(a){e.removeTween(a.reset)});var g=function(){if(a){var b=e.progress(),c=e.state();a.repeat&&-1===a.repeat()?"DURING"===c&&a.paused()?a.play():"DURING"===c||a.paused()||a.pause():b!=a.progress()&&(0===e.duration()?b>0?a.play():a.reverse():e.tweenChanges()&&a.tweenTo?a.tweenTo(b*a.duration()):a.progress(b).pause())}};e.setTween=function(d,h,i){var j;arguments.length>1&&(arguments.length<3&&(i=h,h=1),d=b.to(d,h,i));try{j=c?new c({smoothChildTiming:!0}).add(d):d,j.pause()}catch(k){return f(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),e}if(a&&e.removeTween(),a=j,d.repeat&&-1===d.repeat()&&(a.repeat(-1),a.yoyo(d.yoyo())),e.tweenChanges()&&!a.tweenTo&&f(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),a&&e.controller()&&e.triggerElement()&&e.loglevel()>=2){var l=b.getTweensOf(e.triggerElement()),m=e.controller().info("vertical");l.forEach(function(a,b){var c=a.vars.css||a.vars,d=m?void 0!==c.top||void 0!==c.bottom:void 0!==c.left||void 0!==c.right;return d?(f(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var n,o,p=a.getChildren?a.getChildren(!0,!0,!1):[a],q=function(){f(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},r=0;r<p.length;r++)n=p[r],o!==q&&(o=n.vars.onOverwrite,n.vars.onOverwrite=function(){o&&o.apply(this,arguments),q.apply(this,arguments)});return f(3,"added tween"),g(),e},e.removeTween=function(b){return a&&(b&&a.progress(0).pause(),a.kill(),a=void 0,f(3,"removed tween (reset: "+(b?"true":"false")+")")),e}})});var headerPath=new Snap(document.getElementById("zig-path")),windowHeight=$(window).height(),navHeight=10,lineThickness=13,lineHeight=lineThickness/2+navHeight;console.log(lineHeight);var newDValue="M-50,-12 L-43.6220448,"+lineHeight+" L615.203059,"+lineHeight+" L711.086126,"+lineHeight+" L921.623803,"+lineHeight+" L1052.46475,"+lineHeight+" L1355.78161,"+lineHeight+" L1491.66123,"+lineHeight+" L1500,-12";$("nav a").show(),$(window).resize(function(){windowHeight=$(window).height()});var mySnapAni=headerPath.animate({d:newDValue},200),snapAnimationCtrl=mySnapAni.anims[Object.keys(mySnapAni.anims)[0]];snapAnimationCtrl.pause();var controller=new ScrollMagic.Controller,tweenZig=new TimelineMax,tweenerObj={progress:0};tweenZig.insert(TweenMax.to(tweenerObj,1,{progress:1,onUpdate:function(){snapAnimationCtrl.status(tweenerObj.progress),snapAnimationCtrl.update()}}),0),tweenZig.insert(TweenMax.from(".nav-name",1,{marginLeft:"-100%",scale:.5,ease:Expo.easeOut}),0);var duration=windowHeight/2;console.log(duration);var sceneZig=new ScrollMagic.Scene({duration:duration,triggerHook:0}).setTween(tweenZig).addTo(controller),sceneContent=new ScrollMagic.Scene({duration:duration,triggerHook:0}).setPin(".content").addTo(controller);sceneZig.on("leave",function(){window.pageYOffset>10&&$("nav").css("zIndex",2)}),sceneZig.on("enter",function(){$("nav").css("zIndex",0)});var flag=!1;$(".work .grid-cell p, .work .grid-cell img").on("click touchstart",function(){if(!flag){flag=!0,setTimeout(function(){flag=!1},100);var a=$(this).parent();$(".work .grid-cell").not(a).removeClass("enlarge"),a.toggleClass("enlarge")}});